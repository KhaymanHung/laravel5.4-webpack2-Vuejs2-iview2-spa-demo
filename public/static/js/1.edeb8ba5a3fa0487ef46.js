webpackJsonp([1],{42:function(t,e,a){a(57);var i=a(2)(a(50),a(62),"data-v-59cdb9c7",null);t.exports=i.exports},48:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{loading:!1,tableData:[],pageTotal:0,page:1,pageSize:10,sortBy:{}}},props:{dataUrl:{type:String},columns:{type:Array,default:function(){return[]}},size:{},width:{type:[Number,String]},height:{type:[Number,String]},stripe:{type:Boolean,default:!1},border:{type:Boolean,default:!1},showHeader:{type:Boolean,default:!0},highlightRow:{type:Boolean,default:!1},rowClassName:{type:Function},content:{type:Object},noDataText:{type:String},filter:{type:Object},noFilteredDataText:{type:String}},created:function(){this.fetchData()},methods:{fetchData:function(t,e,a,i){var n=this;t=t||this.page,e=e||this.pageSize;var o=JSON.stringify(a||this.sortBy),r=JSON.stringify(i||this.filter),s=this.dataUrl+"?page="+t+"&pageSize="+e+"&sort="+o+"&filter="+r;s=encodeURI(s),this.$http.get(s).then(function(t){var e=t.body.data;n.pageTotal=e.total,n.tableData=e.data})},sort:function(t){if("normal"===t.order)this.sortBy={};else{var e=t.key;this.sortBy[e]=t.order}this.fetchData()},changePage:function(t){this.page=t,this.fetchData()},changePageSize:function(t){this.pageSize=t,this.fetchData()},btnClick:function(t,e,a){this.$parent[t](e,a)}}}},50:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(60),n=a.n(i);e.default={components:{asyncTable:n.a},data:function(){return{loading:!1,dataUrl:config.getApi(config.api.post.list),columns:[{title:"编号",key:"id",width:80,sortable:!0},{title:"标题",key:"title",width:200},{title:"点击数",key:"click_num",width:120,sortable:!0},{title:"点赞数",key:"like_num",width:120,sortable:!0},{title:"评论数",key:"comment_num",width:120,sortable:!0},{title:"收藏数",key:"collect_num",width:120,sortable:!0},{title:"分享数",key:"share_num",width:120,sortable:!0},{title:"创建时间",key:"created_at",width:150,sortable:!0},{title:"最近更新时间",key:"updated_at",width:150,sortable:!0},{title:"是否显示",key:"is_show",width:100,sortable:!0,fixed:"right",render:function(t,e,a){return 1==t.is_show?"显示":"隐藏"}},{title:"操作",key:"operations",width:170,fixed:"right",render:function(t,e,a){var i="";return i+='<i-button type="success" size="small" @click="btnClick(\'goEdit\', '+t.id+')"> 编辑 </i-button>',1==t.is_show?i+=' <i-button type="warning" size="small" @click="btnClick(\'hideItem\', '+t.id+')"><span v-if="!loading">隐藏</span><span v-else></span></i-button>':i+=' <i-button type="primary" size="small" @click="btnClick(\'showItem\', '+t.id+')"><span v-if="!loading">显示</span><span v-else></span></i-button> ',i+=' <i-button type="error" size="small" @click="btnClick(\'delItem\', '+t.id+')"><span v-if="!loading">删除</span><span v-else></span></i-button>'}}],formSearch:{id:"",title:"",created_at:"",updated_at:""},userList:{}}},created:function(){},methods:{refreshData:function(){this.$refs.asyncTable.fetchData()},handleSearch:function(t){this.refreshData()},handleReset:function(t){this.$refs[t].resetFields(),this.refreshData()},showItem:function(t){var e=this;this.$Modal.confirm({title:"确认操作",content:"你确认要显示这条记录？",onOk:function(){e.loading=!0,e.$http.post(config.getApi(config.api.post.display(t))).then(function(t){e.$Message.success("操作成功"),e.refreshData(),e.loading=!1},function(t){e.loading=!1})}})},hideItem:function(t){var e=this;this.$Modal.confirm({title:"确认操作",content:"你确认要隐藏这条记录？",onOk:function(){e.loading=!0,e.$http.post(config.getApi(config.api.post.hide(t))).then(function(t){e.$Message.success("操作成功"),e.refreshData(),e.loading=!1},function(t){e.loading=!1})}})},delItem:function(t){var e=this;this.$Modal.confirm({title:"确认操作",content:"你确认要删除这条记录？",onOk:function(){e.loading=!0,e.$http.delete(config.getApi(config.api.post.delete(t))).then(function(t){e.$Message.success("操作成功"),e.refreshData(),e.loading=!1},function(t){e.loading=!1})}})},goEdit:function(t){this.$router.push({name:"post-edit",params:{id:t}})}}}},51:function(t,e,a){e=t.exports=a(40)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"index.vue",sourceRoot:""}])},57:function(t,e,a){var i=a(51);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(41)("4c855cac",i,!0)},60:function(t,e,a){var i=a(2)(a(48),a(61),null,null);t.exports=i.exports},61:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("i-table",{ref:"table",attrs:{columns:t.columns,data:t.tableData,size:t.size,width:t.width,height:t.height,stripe:t.stripe,border:t.border,"show-header":t.showHeader,"highlight-row":t.highlightRow,"row-class-name":t.rowClassName,content:t.content,"no-data-text":t.noDataText,"no-filtered-data-text":t.noFilteredDataText},on:{"on-sort-change":t.sort}}),t._v(" "),a("div",{staticClass:"layout-page"},[a("Page",{attrs:{total:t.pageTotal,current:t.page,"page-size":t.pageSize,size:"small","show-elevator":"","show-sizer":"","show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)],1)},staticRenderFns:[]}},62:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"layout-breadcrumb"},[a("Breadcrumb",[a("Breadcrumb-item",[t._v("首页")]),t._v(" "),a("Breadcrumb-item",[t._v("文章管理")])],1)],1),t._v(" "),a("div",{staticClass:"layout-btn-group"},[a("router-link",{attrs:{to:"/post/create"}},[a("i-button",{attrs:{type:"primary",size:"small"}},[t._v(" 添加文章 ")])],1)],1),t._v(" "),a("div",{staticClass:"layout-content"},[a("div",{staticClass:"layout-table"},[a("async-table",{ref:"asyncTable",attrs:{columns:t.columns,"data-url":t.dataUrl,filter:t.formSearch,size:"small"}})],1),t._v(" "),a("div",{staticClass:"layout-search"},[a("Card",{attrs:{bordered:!1,"dis-hover":""}},[a("p",{slot:"title"},[t._v(" 搜索条件 ")]),t._v(" "),a("i-form",{ref:"formSearch",attrs:{model:t.formSearch,"label-position":"top"}},[a("Form-item",{attrs:{label:"编号",prop:"id"}},[a("i-input",{model:{value:t.formSearch.id,callback:function(e){t.formSearch.id=e},expression:"formSearch.id"}})],1),t._v(" "),a("Form-item",{attrs:{label:"标题",prop:"title"}},[a("i-input",{model:{value:t.formSearch.title,callback:function(e){t.formSearch.title=e},expression:"formSearch.title"}})],1),t._v(" "),a("Form-item",{attrs:{label:"创建时间",prop:"created_at"}},[a("Date-picker",{attrs:{type:"datetimerange",placement:"left-start",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期和时间"},model:{value:t.formSearch.created_at,callback:function(e){t.formSearch.created_at=e},expression:"formSearch.created_at"}})],1),t._v(" "),a("Form-item",{attrs:{label:"更新时间",prop:"updated_at"}},[a("Date-picker",{attrs:{type:"datetimerange",placement:"left-start",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期和时间"},model:{value:t.formSearch.updated_at,callback:function(e){t.formSearch.updated_at=e},expression:"formSearch.updated_at"}})],1),t._v(" "),a("Form-item",{staticStyle:{"text-align":"center"}},[a("i-button",{attrs:{type:"primary"},on:{click:function(e){t.handleSearch("formSearch")}}},[t._v(" 搜索 ")]),t._v(" "),a("i-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:function(e){t.handleReset("formSearch")}}},[t._v(" 重置 ")])],1)],1)],1)],1)])])},staticRenderFns:[]}}});
//# sourceMappingURL=1.edeb8ba5a3fa0487ef46.js.map